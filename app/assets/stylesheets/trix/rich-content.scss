[data-trix-attachment] {
  display: inline-block;
}

.popover {
  max-width: 380px !important;
  border-radius: 2px;
}

span.trix-reference + figcaption,
span.trix-mention + figcaption {
  display: none;
}

trix-mentions,
trix-references {
  .selectize-control {
    position: fixed
  }
  .selectize-input {
    border: none !important;
    background: none !important;
    box-shadow: none !important;
  }
}

trix-mentions {
  .selectize-control,
  .selectize-dropdown {
    width: 200px !important;
    z-index: 9999;
  }
}

trix-references {
  .selectize-control,
  .selectize-dropdown {
    width: 300px !important;
    z-index: 9999;
  }
}

.thread-element {
  @extend .media !optional;
  overflow: visible;
  .comment-left {
    @extend .media-left !optional;
    @extend .hidden-xs !optional;
  }
  .event-left {
    @extend .media-left !optional;
    @extend .hidden-xs !optional;
    min-width: 60px;
  }
  a {
    color: #555;
    @extend .text-strong !optional;
    div.author-avatar {
      @extend .media-object !optional;
      @extend .organization-member-avatar !optional;
      height:20px;
      width:20px;
      background-position:center;
    }
  }
  a:hover {
    text-decoration: none;
    color: #222;
  }
  .author {
    color: #444;
    @extend .text-strong !optional;
  }
  .title {
    color: #444;
    @extend .text-strong !optional;
  }
  .date {
    font-weight: normal;
  }

  .comment-body {
    @extend .media-body !optional;
    @extend .panel !optional;
    @extend .panel-default !optional;
    overflow: visible;
  }
  .event-body {
    @extend .media-body !optional;
    overflow: visible;
    .icon-pre {
      font-size:.7em;
      margin-left:10px;
      @extend .text-small !optional;
      @extend .pull-left !optional;
    }
    .event {
      margin-left:40px;
    }
  }
}

.comment-content, trix-editor {
  a {
    font-weight: normal;
    color: #0366d6;
  }
  figure.attachment--jpg,
  figure.attachment--png {
      background-color: #FAFBFC;
      border: 1px dashed #0366d6;
      border-radius: 3px;
      img {
          @extend .img-responsive !optional;
          margin-left: auto;
          margin-right: auto;
      }
      figcaption {
          @extend .text-center !optional;
          padding-bottom: 2px;
      }
  }
  figure.attachment--pdf {
      border: 1px dashed #0366d6;
      border-radius: 3px;
      display: inline-block;
      margin-bottom:10px;
      figcaption {
          padding: 2px 7px;
          span.attachment__size {
              @extend .text-small !optional;
          }
      }
      :hover {
          background-color: #F5F5F5;
      }
  }
  figure {
    span.mention,
    span.reference {
      color: #444;
      @extend .text-strong !optional;
    }
  }

  figure.attachment--content {
    display: inline;
    figcaption {
      display: inline;
    }
  }
}
