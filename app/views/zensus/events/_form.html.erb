<% content_for :container do %>
  <div class="row --spacious zensus">
    <div class="col-sm-12 col-md-8 main">
      <%= simple_form_for [:zensus, @event], as: :zensus_event do |f| %>
        <div class="form-inline" style="margin-bottom: 10px;">
          <%= f.input :type, collection: Zensus::Event.types, label: false %>
          <%= f.input :place_id, collection: Vocab::Concept.all, label: false, prompt: 'Select place' %>
          <%= f.input :period_id, collection: Vocab::Concept.all, label: false, prompt: 'Select period' %>
        </div>
        <div class="form-inline">
          <%= f.input :begins_at_string, label: false, placeholder: 'Beginn' %>

          <%= f.input :ends_at_string, label: false, placeholder: 'End' %>

          <%= f.input :circa, label: 'approx.' %>
        </div>
        
        <h4 class="subhead --spacious">Activities</h4>
        <div id="activities">
          <%= f.simple_fields_for :activities do |a| %>
            <%= render 'activity_fields', f: a %>
          <% end %>
          <div class="links">
            <%= link_to_add_association fa_icon('plus', text: 'Activity'), f, :activities, class: 'btn btn-default btn-sm' %>
          </div>
        </div>

        <h4 class="subhead --spacious">Event relations</h4>
        <div id="event-relations">
          <%= f.simple_fields_for :event_relations do |a| %>
            <%= render 'event_relation_fields', f: a %>
          <% end %>
          <div class="links">
            <%= link_to_add_association fa_icon('plus', text: 'Event relation'), f, :event_relations, class: 'btn btn-default btn-sm' %>
          </div>
        </div>

        <div class="actions --spacious">
          <%= f.submit class: 'btn btn-primary' %>
          <%= link_to 'Cancel', @event.new_record? ? zensus_events_path : zensus_event_path(@event), class: "btn btn-default" %>
        </div>
      <% end %>
    </div>
  </div>
<% end %>