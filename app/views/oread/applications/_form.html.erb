<%= simple_form_for @application, html: { class: 'form-horizontal' },
  wrapper: :horizontal_form do |f| %>
  
  <div class="row">
    <div class="col-md-12">
      <%= f.error_notification %>
  
      <div class="row">
        <%= content_tag :div, class: "col-md-12" do %>
          <div class="form-inputs">
            <%= f.input :name %>
            <%= f.input :host, hint: 'Complete base_url with schema, like: http://xyz.babylon-online.org' %>
            <%= f.input :port, hint: 'typically this is 80.' %>
            <%= f.input :search_path, hint: 'The API path to query and add the query params to. Like: /api/objects/search.json' %>
            <%= f.input :description %>
            <%= f.association :owner, 
              collection: User.all, 
              include_blank: false, 
              hint: "After changing this to someone else you won't be able to make changes anymore." unless @application.new_record? %>

            <%= content_tag :div, class: "form-group", style: 'margin-top: 20px;' do %>
              <%= f.label :image, class: 'col-sm-3 control-label' %>
              <div class="col-sm-9">
                <%= f.hidden_field :image, value: @application.cached_image_data %>
                <%= f.file_field :image, as: :file %>
              </div>
            <% end %>
          </div>
        <% end %>
      </div>

      <div class="row">
        <div class="col-md-6">
          <hr>
          <%= f.submit class: 'btn btn-primary' %>
          <%= link_to 'Cancel', (@application.new_record? ? oread_applications_path : @application), class: "btn btn-default" %>
        </div>
      </div>
    </div>
  </div>
<% end %>
