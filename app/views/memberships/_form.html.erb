<%= simple_form_for([@project, @membership]) do |f| %>
  <%= f.error_notification %>

  <div class="form-inputs">
    <%= f.input :user_id, 
      collection: @users, 
      selected: @membership.user_id, 
      label_method: :display_name, 
      value_method: :id, 
      include_blank: false,
      disabled: !@membership.new_record? %>
    <%= f.hidden_field :project_id %>
    <%= f.input :role, 
      collection: @roles, 
      include_blank: false %>
  </div>

  <div class="form-actions">
    <%= f.button :submit %>
  </div>
<% end %>